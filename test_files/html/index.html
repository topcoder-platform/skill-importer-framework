<head>
  <script>
    function login() {
      var xhr = new XMLHttpRequest();
      xhr.open("POST", "../api/v1/login");
      xhr.setRequestHeader("Content-Type", "application/json");

      xhr.onload = function () {
        document.getElementById('loginResult').innerText = xhr.responseText
        document.getElementById('connectGitHubButton').hidden = false
        document.getElementById('connectGitLabButton').hidden = false
      };

      xhr.send(JSON.stringify({
        username: document.getElementById('username').value,
        password: document.getElementById('password').value
      }))
    }

    function connectGitHub() {
      window.location = '../api/v1/connect/github'
    }

    function connectGitLab() {
      window.location = '../api/v1/connect/gitlab'
    }
  </script>
</head>

<body>
  Username: <input id="username" type="text" value="username5"/><br/>
  Password: <input id="password" type="password" value="password"/><br/>
  <input type="button" value="Login" onclick="login()" /><br/>

  <div id="loginResult"></div>

  <br/>
  <br/>

  <input id="connectGitHubButton" type="button" value="Connect GitHub" onclick="connectGitHub()" hidden/>
  <input id="connectGitLabButton" type="button" value="Connect GitLab" onclick="connectGitLab()" hidden/>
</body>
